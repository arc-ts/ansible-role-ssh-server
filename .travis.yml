---
language: ruby

rvm:
  - 2.3.3

env:
  global:
  - KITCHEN_LOG=warn
  - secure: ww7Z2Z290rMj/tWzfdRkdQuR2+iafyRPwyIAhmyXmltUSrRos7mMd7LqCKNPUu5XNJnQWF/eiE2/835qEHrdrI2+hz/PXIU5EKFAbN4iqbTUrlP9hguL/D5zPIp04kf5Q2e4/M2enf/HXKkqtZpGQjrLg5vFTV2dJXavSbiiAyRn612m6CNMpe/9t6YCzKJ/OFMXymO5rLw+WoU85iTEp/HsaDehrqAgaHCNtHlctdrh00LpgKFLXyjlZEBBpzr/IWiAWi81oMhZO9vnkc0mVVH0JGvALMP+SwkhjBjvEEWEZGSUU6WgzZq6u42zWJKP1ITTz06lcfAjt6e74K3saxLVzN2QQEsZ1YEvrOh86eK6kxorbptgV6wap+tiyonYePxij/60819L9cSk78+jtpP2lgZtEJjB/KD8h23D6E9Ld6ZdiiScWJWnWJdlit2ku5JLlXIO7BBxeEEKbROg2uZTy6G457AgLARQ4A+BwEuAVDhu6HWwReawZ23fuGyb9HYr/1FDL9OgdcmTCV/hf4i214ZN95s84Ru9AwvmQRV8fTMrYzMCixcawfCTF6Eu1y0WfMYy/vjCTTUKW0pxfU+fBMoxa1BUpiksERIiRxavS89XWIQIv+hHPR7cegqdHmsBVu2ijnwVQpMQLWvPcmkwSb4odXHDfEUYEH3AF4U=
  - secure: mBYGtbhAb6wtWpuN2AgivMuCwUPeKYyd/hcvXi1G4WWbP+f0V7axCmHKjvW6HYv+MlLGXWIo3D88pYKQhOwYOr9KiemKAqzQbppIOQsqRuZxSJL8Y7IMZ2VhyYue4TzVexYBHw9maHMqvXyfqkxZemTzubD4EoZmBUw4OADn1juzpVgvQ1HYpsh/L3jruhUOS+mJVDgcGbd94NQHUPEti04h/YgwrUjvuG0KwLozhVPBLZ22BZ0Q1LnXRxQ7UJB+6e4IkbyKt3QQB+kftgbW1xNJPFcneObuKKGmvFpmaNQF/R0tMs+SqmSVTW3rwH9Antxgw6uK49Q1d6Np2smnI7SecSklSJfMlqRIKDPe5EGA01Wvi45VRMhjjPHrf3pgBDklTM8NCOxWt1QvE7dLXII90uapQLzg4rYq+UAXhDWYlAU+x4nBTKZEBvFwW1n5tOa8JIlDRGNhjwrX/1xgYBUTWC+wDev+eet6VcUJ3/0NmuIQbsyroPjFtCyHwONx+Hnd16AQFkmJGYuGmf/FTd6Hdi1oJ95m8aur3IWrvTXGC+GIfsHbFWNch6fHOnhU3NKAnKMMM30aipzC9k0plf94XxoWPQhyVQ5yxOieyL0MdK8BC9hcRQ5pliDQw/kjuWW6PKsNEMPJ8S8N5YHgTbR1YsFQP5qWOgcMROiQIsw=
  - secure: QAevt2f7HprvX9xk1h+8M03eoHHS0+Xjx360zZhSkNP4hPZLJbRvoR8gY9GuDNir40lcImTF8mPSU0pTDqhcXYA2VZIeDBggw5486N0Frtdugtu/r9pp4/szi2OLPDjdT4MqTC3Bclzpc8kbMVHS67+O9ovKUzVpw5PYRoiXU931Y7aGW6p/9mn5exaH5SBaFRZUGwBAd6st9Xjf7V23En9isHSJxnuJ5ZRFDRKPt98ZmVwKRbrH+vFtNwx4c0qMWqqijCiuqQp+NGuRtT+rjw2J0TYdQedRx2+cJYedANU44vclry3M9OY6VFTSvSrSEGz2ADUTqwLo/ZWmQf5K5Vm0HXwat9XiD5vFPVbrWBqoYyJSZLoECcSd5bHcCkMToDVL2Ca4EkQkQvqMI7WL352ainR1lPEZZcWf2rzERWxMS96D3VYBvvHc1r7+Ktj9BiJuzoGe75cqG4Vua0/zeEYhje+TJ3JdVW7xr6xI7F3r26qKGWXoT1OmeW+a1+bvrWXYSSiO3VGPvF9TXwFgbB/bKpeVFu/ERdiP5HEp1atO0THSdPKCY0BDntbUIb6DNLXwdjX7l+ERyWUAq2pvNeicnU5ZHsl6yrURJXHZF57yiLtA94j4POMEXDzSMvwu0OuVpFnwKfKq4R9fDUr8+/mz7uHK1rLKt54i8el2/7M=
  - secure: WvFj0v/6S6lhGh8db1uElb6OaCBXkUP7KgwjxqQNep3G5J9KRB1r5vQ8qcGG7QKzwVrjrySe852WwRJOhoC3/O7WuOL6foKPi/6lDIPvFwEUZvuZq4CsgLMnIEF0eq8TsIKYsPpanJ2BvnnlZ4Ws1kVBPUQ4j9hfPu8MhG+eE51ky2e2Q3I7qEEt90G9lsxcyeoumyaB/G4O+jM2lawiI+wfdhbFi/tiivL2txkYXDHxYJl1WNpY//ZxP4dRrIinivTIQ+LM3bBOBMIbwCBuDbfFcJeMUK4H1N65sihOrBD1H1FLtx4ApMtm+TVvvFXmaIrfrrytQw5LVgHU7LDWBq+VWUU2ALOoxjdN0nbMhRN1d3TIq+wu3zRH5fU2eASwYpBerprqSC5TpuCZzivGxFO0mqAg9Q6lAcMl1/RlyVPhEANXDEXZeEa3PxbABd4ivsQ1sE2haI5ke+tNNusPcAt0kQJuBQURGISb/ztQdqpYJLVtu3iaev5VS2xaK9a8UK//skqCB47+Q1Mh82DP2ncCSMiBJrN7jCsN9xktqZukN5Pj96bZ5xFJpIWLQuSUs5AX8roSXpG9Nd5UpFQmlPkz3yyrGwKezrz6N4XCXOwVJY7xsueVFD4POk9cb3zsRvHpWaCIDtkqmwAt2QDptf60XEMukxJ7MWgPJ6StLlI=
  - secure: PFGcXNB45jwwqmsUVsW02FX1YeRuMG46cs5ogOPxYwZEAPXwdQh9qGTgA0CI6GdQTF3hVBQXwVi5CN7cNdWH7pKSHjohbH1boISqMlcacvTiackdt/mlIhQ2C4pumeCAIhp7Ts+e5rTa+JrYqkXmiX5jSEUz3orE2kkQZPPiwxjpVVrnC+gNLQx6ttEF8Q9ZBpQJF2hYDgQ9yyDyKYEX5ttQNXFdqrfKeX+nQuoiGSJ/otIrY14PF7EY60sST5YK/i0ABxtJ4XNHGdyBzbAzdjbEsWUXqzLg384OUAniwrWFGRC4Sf359M3zaL3EX+249nTi7r9a1j/TaDg7e4ApZYNs3zyUHDFse4Tvp17K6QlXBmdla4bmyQ1sZ4BVKrtq6fNdq3pxkQEPshKSgIHboyvFJpgkK1ielJ8i88Ug7N8Sj92WNMBQayaN2k7JQ1FWgK3dd7rVtr0tLBI+dG98PD15dwn55kFAI9R+qLuCPDwiZyyYdKB83d+06Lh9MeQHWQfq/UESjGlAeUbPGgJm1hghhRm0zeZXgMZUrsmRCP2aKaukxD4f7z3ie+RaY8K8q52BIdncBbYoprJ4GF/LQWQLGfpWGsfFgyLz3O4IxopRQ9aYI5nzTYrqFXcZCdW6es0Sz+jSJ24LKP5Yer7EAyp0Ov7T3mR77LGFMsVl1PI=
  - secure: H4afVYh3lJKFaLdtStOZFnLyFXTEjf3TDcLUjluH9yigGcSXpvYzXcyB4C8t1Lc7VZQ5Pv4Dgm0kjLMTpxlozMi1BGR8a8IpqiUo5p4e8jIS3DIRi1oHLRMZRqCGFMo1elAZ4OPxnpeGPjDimA9W5JtRGrCTdXZa/SEYORHaNXdiX4vP4OHQPtx6u1+OANx+w45toYEPmf6/xkGpvADlHYywTqP3nVHJqnSW8VIAFlA/32yk8XT18dQC23zMOgmNcUJCEPatE4YQE7YoduGgq0VXqT7OTyfD/OIP2IE3vcChV/6wlzlMFMLjztM3ENYgVzjWwnQPsNq9gFHTqrxn5iUzDmrWh/Z9IC65WifHEGdF3d3iqi1chLjSck/xfnco8nvN/hmu62r7a+wO/xkONlNA3yJdrr7tAmbYeS0up2FssGklZUyJgfq7niHW2dXIKfD0jaXw6PkKNRGHtmv3nWMf6FMErnWR0RYZKitcyMbxEDsezmKD6Bi4GIYtJAKVsKIUnPUxfkUcn4UOCvmlRrB6CjP6/SrqnX/wzjkfF5MxdUkpsH6uoo1WRGi0mpPYYAboi5z9YbCHVVzt3u4Et2XTq98TeG2Ec1C8zSzkHpTdCsroP/eY0iYOpW6SNxp+HaHdl9/05uCQiXwLMTPywtccMqiHV+f6eP8SJaxd3WM=
  - secure: RMMIHIIUmnO4TQqGEs1gZdAS2hN8VsG8LeR+aqThxcsfZCmMcmbeHhU6A9zKPsPKTBomp8PJ3MjNasAOwQ7PZ7o4tsSYKw5S8tfgys6vYcAuhqLt4AZjxEtcyvWru23lA44pk4JOUpWzp6AGicEe6lK7punMvionN8YnGlrTrpzCEdAqoaHm3onP4WcFw/tgHMwa0ggqWMfOUIeTyy5AKqkaJCmsYymAD/ZJ8OuUJt222bwJ3sY1enOXVisgRo3pHebC+kNOMbKJzfRlqam3Q+PgD4kHgXKcJUPOr2B0U/Ebx4zlVoc9h95OV36ASD8bVgCSXzfFlUBZwfigOKvWUlle2sm5TYufME7sq5rc9Z1pMU6RyE2LeM4L/2zXbUW0zWwTWTzbwAMT2OEWXtiEEBNmTf/oE9MaE0HscjHnp+08Z8EKtvUgcYVAYd8upBGQwUWvrktOyYUw0vnvbc/cpfUewszuS2CDveWe+x7GBrMaIKdAYjQtoZZItLrssb3KsrjLvaR/9VUh5or/LjfGq9dibObjeDq0IYvE1dXVWzQS3GaFeWA/qV8S82Sp/LcvE1MyOJG8PlQgcHoyeSExovge2UZaXhDWk9K6tKto0W4yOQzCz6F2VQAMQ0X6kmWNnQSKMAAwHvcUdgd+J+wxZz2gkymCUEtOd41599QaUAE=
  - secure: NMCzFDUxm7aZKCEx3ts4K81sSFrU7Fday1TpMXikoDav7guQMfChIGW0gkuej7n9nWi5ujm+/RHqrePczCeXKaVbkDXJ9uMlGGTOaNkd1s0y4C5e+SGPu4Cgt12aPsN5BdEwTyi440i08Us4HUbvr8WWLT0W9DVztVsk5cFAchtrWtuxRKo7rnKY66ydhxQ078Z/ASkp+fJf5Sa1+F8QI/go4RV03uHqqHnQzVhgmkPwKV6O6CeXTUQgKlKTSa6WRS6Y+aVpCZqCCehTG4pz/m8K10ULa9j1CxA95R5BpSPVleXuBNd4niBgmRuR9PLBUpxccZt5giRSFTcAti6rK0XhpMgZTEIVft7jD4dsVKjWcsRtSSVd41YnSpq0ocWge1HqvDnIoPhG3ilKCnTWOGbC6pcUjYI5CqPuz3lJWKPjx0xakcMwjlp8abTxL2cKksarKX+tVWfY/1f2bubE6PFz0cfmo3HF5cMjvoENBovMsiXqpM0UKx6g8TbOLJzTEbBeNWQX07rXjvnJ+gPx1vJJ+R85KuHcYbBbRcRC8M3xUAqGNQ5GzuYGumV0RwTPnb99xA2Cx+Faxa+15t6jYF1HAB78VhjhEgddZfPtZW9tt08Y7ylNdDMyS7e59Mq95OK4u5wlmyBZkNBkIZidDRUzw/Q9wrGlz/l81WZxIqU=
  - secure: sWk73sRD2ahpav6gb204YkiGbYLgWKYmNLltVOveuIfzPiCPh6dbwETYp1iz4HOndWRJ7hd94wOuOPJbFYcckLWujfQikPGEJfvG2mVcX83ovOBfY1ET6FVerRWGgFKURGGVPT4OHQ+nhRBqHuKycJlPf3FR5uRNpNp9ZP6n/x1BifflY+0isTsSkZXYPTxKqvwVgGIekhWERAt4yA8rJR+ExTmDR5qH99srJHKqCQbYw1OoP0jJBLyI3WzOM+IzvMU74H0pAnITI6hYRTU3ul2aRX/L9+tdta+6Fj6M5sc83DJn53UKKuCjo0IDcYmefXYvPTVRtfsb0Z4239saJbXKvmxedlT+PjKPwLwDMaYmHdmFKjxmU2RKgQRdLLLFO+6D/8MzoBXqaObjUOQ9c0e98xgLpO93L1HWmyqnZVP5WXGTnxTvC/+rAO6uFjcOpQLE0g71YTZ66TooyzwBZ7CMKADOXczaRzL5hht+JdyreCGu/HZI8jxka8TnjsoyDsp0CmAHvBmIPbyylruSJHEEU8ZAliYpP2rptI0oYNq389gLSdNohwzwwTaIMsm7s3rMmi5vcHFAmoPF0LkgZuOV9GzL+55OWa1010Fk3/xVqpvMHpMEzA9HA1owJ3TcunkmtyfiU5TEqhd738AtiY6AdisCo6toFZeCau4FtGI=
  - secure: CDiWRg03WSt0e4Qzm1ybDVRRUPYY0US8zlnA7KatE74Hp+pcSRyxmhudjeTx1LR1dBb1eBS52ORMOMEgoKUAoO7a2DokoMlgyVZUmi3FwltVk5linXAaF1fl82uJsKxXPJa5807JPKVtnGiJD70lFeFcgqTPvGblFLzv8u26B5E9uzs93SA+IiqE+Ny1/x8PNdS+1b1zWEjkfy2DPuATNg+1Em4+XrxWL8ybhR2MzyXvxn0rstDgZafYaMsWJ2jspHRATo+AepRZkJsKpma80F//j+4DVrxHdloWU4c9T5KBzxbnCmy/uoItdSXeWpENOdGHav3dH4GE5ENR89QkeTvh7OoERW9maMvN4o+C4ZBZvRFak7EED0/Yr0LWnOrqVYLQz4uzPv3o6Vk/yDhPXMxvHWI/E4Qy4z4fxTxR3FXZl34i82kp6EIsmvuu5f4MLh9gTpY9weGIKndxcSUUIIIBoHOS+NLnqaiFTBh8VgalpFdTLN+rVRtiQSgw1nh7Q4fvT9zZ75/ypAU4Pl9BYSDE8eG2umRZFnpuuED04c/EAd6Wxs89aTpJxTisx3nRB0ju8MLVsJqcyVKwIEq/S5YdjFlEZxByS26f62R7uM5LduBs8h4ZxZ9Y5P0ghj7YSEjkNp5y7w38fRoZQCLMbRV6jUMcnpMoqQnNn7ZlaDU=

before_install:
  - openssl aes-256-cbc -K $encrypted_a3954097cf88_key -iv $encrypted_a3954097cf88_iv -in provision.key.enc -out provision.key -d
  - bundle install
  - bundle exec rake --tasks

script:
  - bundle exec rake integration:cloud

after_script:
  - bundle exec rake integration:cloud:sgroup-destroy

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
